import React, { Component } from 'react';
import PropTypes from 'prop-types';
import { compose } from 'ramda';
import { createFragmentContainer } from 'react-relay';
import graphql from 'babel-plugin-relay/macro';
import Markdown from 'react-markdown';
import { withStyles } from '@material-ui/core/styles';
import Paper from '@material-ui/core/Paper';
import Typography from '@material-ui/core/Typography';
import inject18n from '../../../components/i18n';

const styles = theme => ({
  paper: {
    margin: '10px 0 0 0',
    padding: '15px',
    backgroundColor: theme.palette.paper.background,
    color: theme.palette.text.main,
    borderRadius: 6,
  },
});

class MalwareOverviewComponent extends Component {
  render() {
    const { t, classes, malware } = this.props;
    return (
      <div>
        <Typography variant='h4' gutterBottom={true}>
          {t('Information')}
        </Typography>
        <Paper classes={{ root: classes.paper }} elevation={2}>
          <Typography variant='h3' gutterBottom={true}>
            {t('Creation date')}
          </Typography>
          21 mai 2018
          <Typography variant='h3' gutterBottom={true} style={{ marginTop: 20 }}>
            {t('Modification date')}
          </Typography>
          2 septembre 2018
          <Typography variant='h3' gutterBottom={true} style={{ marginTop: 20 }}>
            {t('Creator')}
          </Typography>
          Samuel Hassine
          <Typography variant='h3' gutterBottom={true} style={{ marginTop: 20 }}>
            {t('Description')}
          </Typography>
          <Markdown className='markdown'
                    source='Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam pharetra nibh ac consequat lobortis. Ut et tellus diam. Sed sit amet iaculis ante. Fusce varius vehicula ligula, vitae malesuada elit malesuada sit amet. Sed non vestibulum metus. Fusce ornare urna quam, euismod imperdiet ante volutpat posuere.
                         Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam pharetra nibh ac consequat lobortis. Ut et tellus diam. Sed sit amet iaculis ante. Fusce varius vehicula ligula, vitae malesuada elit malesuada sit amet. Sed non vestibulum metus. Fusce ornare urna quam, euismod imperdiet ante volutpat posuere.
                         Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam pharetra nibh ac consequat lobortis. Ut et tellus diam. Sed sit amet iaculis ante. Fusce varius vehicula ligula, vitae malesuada elit malesuada sit amet. Sed non vestibulum metus. Fusce ornare urna quam, euismod imperdiet ante volutpat posuere.'/>
        </Paper>
      </div>
    );
  }
}

MalwareOverviewComponent.propTypes = {
  malware: PropTypes.object,
  classes: PropTypes.object,
  t: PropTypes.func,
};

const MalwareOverview = createFragmentContainer(MalwareOverviewComponent, {
  malware: graphql`
      fragment MalwareOverview_malware on Malware {
          id,
          name,
          created,
          modified
      }
  `,
});

export default compose(
  inject18n,
  withStyles(styles),
)(MalwareOverview);
